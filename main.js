(()=>{"use strict";document.querySelector("#waldo"),document.querySelector("#odlaw"),document.querySelector("#wizard"),document.querySelector("#wilma"),document.querySelector("#wenda");let e=document.querySelector("#level"),l=document.querySelector("#timer"),o=document.querySelector("#level-image"),t=document.querySelector(".game-panel"),a=document.querySelector("#level-01"),c=document.querySelector("#level-02"),n=document.querySelector(".result-text"),d=document.querySelector(".level-result"),r=document.querySelector("#play-again"),s=()=>{o.remove(),e.textContent="",l.textContent="",document.querySelectorAll(".characters-display img").forEach((e=>e.style.display="none"))},i=a=>{let c=a.target.id;var n,d;"level-01"==c?(s(),n="01",d="02-00-00",e.textContent=n,l.textContent=d,document.querySelectorAll(".characters-display img").forEach((e=>{("waldo"==e.id||"odlaw"==e.id||"wizard"==e.id)&&(e.style.display="block")})),o.src="../../../dist/images/level-1.jpg",o.alt="level 01",t.appendChild(o)):"level-02"==c&&(s(),((o,t)=>{e.textContent=o,l.textContent=t})("02","01-40-00"),document.querySelectorAll(".characters-display img").forEach((e=>{"waldo"==e.id&&(e.style.display="block")})),o.src="../../../dist/images/level-2.png",o.alt="level 02",t.appendChild(o))},u=firebase.firestore(),g=(e,l,o)=>{let[t,a]=[...e];u.collection(l).doc(o).set({X:t,Y:a}).then((()=>console.log(o+" coords details saved!!"))).catch((e=>console.log("something's wrong!!")))},y=(e,l)=>{let o={};return u.collection(e).doc(l).get().then((e=>(o.X=e.data().X,o.Y=e.data().Y,console.log("data loaded"),o))).catch((e=>console.log("data couldn't be loaded!!",e)))},m=Date.now(),v=()=>{let e=Date.now()-m,l=Math.floor(e/1e3)/60;return console.log(e,Math.floor(e/1e3),l),l},w=(e,l)=>{let o;o=e<.5?"5 star":e>=.5&&e<1?"4 star":e>=1&&e<1.25?"3 star":"2 star",h(o,e,l)},h=(e,l,o)=>{let t=prompt("please enter your name for leaderboard");S(e,t),X(l,t,e,o),p()},p=()=>{r.addEventListener("click",q)},q=e=>{s(),d.style.display="none"},S=(e,l)=>{d.style.display="block",n.textContent="congratulations!! "+l+" you got "+e+" :)"},X=(e,l,o,t)=>{((e,l,o,t)=>{u.collection("results").doc(o).collection("results").doc(l).set({stars:t,time:e}).then((()=>console.log("result stored!!"))).catch((e=>console.log("error while storing result!!",e)))})(e,l,t,o)},f=(e,l,o)=>{if(console.log(e.X[0],e.X[1],o),l[0]>=e.X[0]&&l[0]<=e.X[1]&&l[1]>=e.Y[0]&&l[1]<=e.Y[1]){console.log("found!!"+o,e.X[0],e.X[1]);let l=v();w(l,"level_01")}else console.log("go fish!!"+o,l)},_=e=>{(e=>{y("level_02","waldo").then((l=>{console.log(l,"waldos data!!",e),((e,l,o)=>{if(console.log(e.X[0],e.X[1],o),l[0]>=e.X[0]&&l[0]<=e.X[1]&&l[1]>=e.Y[0]&&l[1]<=e.Y[1]){console.log("found!!"+o,e.X[0],e.X[1]);let l=v();w(l,"level_02")}else console.log("go fish!!"+o,l)})(l,e,"waldo")})).catch((e=>console.log("no data!!",e)))})(e)},C=[383,387],x=[33,42];document.querySelector(".game-panel").addEventListener("click",(e=>{let l=e.clientX,t=e.clientY,a=o.alt.split(" ")[1];var c;console.log(a),"01"==a?((e=>{y("level_01","waldo").then((l=>{console.log(l,"waldos data!!",e),f(l,e,"waldo")})).catch((e=>console.log("no data!!",e)))})(c=[l,t]),(e=>{y("level_01","wizard").then((l=>{console.log(l,"wizard data!!",e),f(l,e,"wizard")})).catch((e=>console.log("no data!!",e)))})(c),(e=>{y("level_01","odlaw").then((l=>{console.log(l,"odlaws data!!",e),f(l,e,"odlaw")})).catch((e=>console.log("no data!!",e)))})(c)):"02"==a&&_([l,t])})),g([[400,420],[103,132]],"level_01","waldo"),g([[203,213],[110,117]],"level_01","odlaw"),g([[470,496],[101,132]],"level_01","wizard"),g([C,x],"level_02","waldo"),a.addEventListener("click",i),c.addEventListener("click",i)})();