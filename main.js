(()=>{"use strict";(()=>{document.querySelector("#waldo"),document.querySelector("#odlaw"),document.querySelector("#wizard"),document.querySelector("#wilma"),document.querySelector("#wenda");let e=document.querySelector("#level"),t=document.querySelector("#timer"),l=document.querySelector("#level-image"),o=document.querySelector(".game-panel"),r=document.querySelector("#level-01"),c=document.querySelector("#level-02"),a=document.querySelector(".result-text"),n=document.querySelector(".level-result"),s=document.querySelector("#play-again"),d=document.querySelector("#toggle-text"),i=document.querySelector(".characters-display"),u=document.querySelector(".high-scores"),m=document.querySelector(".choose-levels"),y=document.querySelector(".levels-header"),h=document.querySelector(".keeping-scores"),p=(document.querySelector(".scores"),()=>{l.remove(),e.textContent="",t.textContent="",document.querySelectorAll(".characters-display img").forEach((e=>e.style.display="none")),document.querySelectorAll(".characters-display img").forEach((e=>e.classList.remove("character-found")))}),v=r=>{let c=r.target.id;var a,n;"level-01"==c?(p(),a="01",n="02-00-00",e.textContent=a,t.textContent=n,document.querySelectorAll(".characters-display img").forEach((e=>{("waldo"==e.id||"odlaw"==e.id||"wizard"==e.id)&&(e.style.display="block")})),l.src="../../../dist/images/level-1.jpg",l.alt="level 01",o.appendChild(l)):"level-02"==c&&(p(),((l,o)=>{e.textContent=l,t.textContent=o})("02","01-40-00"),document.querySelectorAll(".characters-display img").forEach((e=>{"waldo"==e.id&&(e.style.display="block")})),l.src="../../../dist/images/level-2.png",l.alt="level 02",o.appendChild(l))};const g=JSON.parse('{"level_01":{"waldo":{"X":[230,235],"Y":[230,237]},"odlaw":{"X":[115,119],"Y":[232,239]},"wizard":{"X":[268,275],"Y":[230,244]}},"level_02":{"waldo":{"X":[211,218],"Y":[193,200]}}}');let f=(e,t)=>g,S={},q=()=>{let e=document.createElement("select"),t=document.createElement("option");t.value=null,t.text="choose",e.append(t);let l=document.querySelector(".characters-display").children;return Array.from(l).forEach((t=>{let l=document.createElement("option");"none"!=t.style.display&&(l.value=t.alt,l.textContent=t.alt,e.append(l))})),e.classList.add("found-who"),e},L=(e,t)=>{e.setAttribute("style","color: green"),e.style.left=t[0]+"px",e.style.top=t[1]+"px",e.style.position="absolute",e.length>1&&document.querySelector(".game-panel").append(e)},w=Date.now(),C=()=>{let e=Date.now()-w,t=Math.floor(e/1e3)/60;return console.log(e,Math.floor(e/1e3),t),t},E=(e,t)=>{let l;l=e<.5?"5 star":e>=.5&&e<1?"4 star":e>=1&&e<1.25?"3 star":"2 star",x(l,e,t)},x=(e,t,l)=>{let o=prompt("please enter your name for leaderboard");A(t,o,e,l),((e,t)=>{M(),N(),F(e,t),j()})(l,o),setTimeout((()=>{Array.from(m.children).forEach((e=>{e.classList.add("unclickable"),e.classList.remove("clickable")})),b(e,o),X()}),1001)},X=()=>{s.addEventListener("click",k)},k=e=>{p(),H(),_(),document.querySelectorAll("select").forEach((e=>e.parentNode.removeChild(e))),n.style.display="none",Array.from(m.children).forEach((e=>{e.classList.remove("unclickable"),e.classList.add("clickable")}))},b=(e,t)=>{n.style.display="block",a.textContent="congratulations!! "+t+" you got "+e+" :)"},A=(e,t,l,o)=>{((e,t,l,o)=>{S[t]={time:e,stars:l,level:o}})(e,t,l,o)},Y=e=>{let t=document.querySelector(".characters-display").children;Array.from(t).forEach((t=>t.id==e&&t.classList.add("character-found")))},N=()=>{y.classList.add("move-left"),m.classList.add("move-left")},_=()=>{y.classList.remove("move-left"),m.classList.remove("move-left")},H=()=>{h.classList.add("scores-hidden")},M=()=>{h.classList.remove("scores-hidden")},T=3,z=e=>{let t=q();L(t,e);let l=document.querySelector(".found-who");l&&l.addEventListener("change",(()=>{let t=l.value;((e,t)=>{((e,t,l)=>{if(console.log(e.X[0],e.X[1],l),t[0]>=e.X[0]&&t[0]<=e.X[1]&&t[1]>=e.Y[0]&&t[1]<=e.Y[1]){if(console.log("found!!"+l,e.X[0],e.X[1]),Y(l),T--,0==T){let e=C();E(e,"level_01"),T=3}}else console.log("go fish!!"+l,t)})(f().level_01[t],e,t)})(e,t),document.querySelectorAll("select").forEach((e=>e.parentNode.removeChild(e)))}))},D=1,j=()=>{for(let e in u.rows){let t=u.rows[e];e>=1&&t.remove()}},F=(e,t)=>{j(),setTimeout((()=>J(e,t)),2e3)},J=(e,t)=>{for(let t in S)if(S[t].level==e){let e=u.insertRow(1),l=e.insertCell(0),o=e.insertCell(1),r=e.insertCell(2);l.innerHTML=t,o.innerHTML=S[t].time.toFixed(2)+" sec",r.innerHTML=S[t].stars}};document.querySelector(".game-panel").addEventListener("click",(e=>{let t=e.clientX,o=e.clientY,r=l.alt.split(" ")[1];console.log(r),"01"==r?z([t,o]):"02"==r&&(e=>{let t=q();L(t,e);let l=document.querySelector(".found-who");l&&l.addEventListener("change",(()=>{let t=l.value;((e,t,l)=>{((e,t,l)=>{if(console.log(e.X[0],e.X[1],l),t[0]>=e.X[0]&&t[0]<=e.X[1]&&t[1]>=e.Y[0]&&t[1]<=e.Y[1]){if(console.log("found!!"+l,e.X[0],e.X[1]),Y(l),D--,0==D){let e=C();E(e,"level_02"),D=1}}else console.log("go fish!!"+l,t)})(f()[l][t],e,t)})(e,t,"level_02"),document.querySelectorAll("select").forEach((e=>e.parentNode.removeChild(e)))}))})([t,o])})),d.addEventListener("click",(e=>{e.target.classList.contains("show")?(e.target.parentNode.style.marginLeft="0%",e.target.textContent="Hide Characters",e.target.classList.remove("show"),i.parentNode.firstChild.nextSibling.style.display="flex"):(e.target.classList.add("show"),e.target.textContent="Show Characters",i.parentNode.firstChild.nextSibling.style.display="none",e.target.parentNode.style.marginLeft="92%")})),d.textContent="Hide Characters",H(),r.addEventListener("click",v),c.addEventListener("click",v)})()})();